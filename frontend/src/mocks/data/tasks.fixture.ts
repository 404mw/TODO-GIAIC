import type { Task } from '@/lib/schemas/task.schema'

function makeFixtureTask(overrides: Partial<Task> & { id: string; title: string }): Task {
  return {
    description: '',
    priority: 'medium',
    dueDate: null,
    estimatedDuration: null,
    focusTimeSeconds: 0,
    completed: false,
    completedAt: null,
    completedBy: null,
    hidden: false,
    archived: false,
    templateId: null,
    subtaskCount: 0,
    subtaskCompletedCount: 0,
    version: 1,
    tags: [],
    recurrence: null,
    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    ...overrides,
  }
}

// Sample task fixtures for MSW
export const tasksFixture: Task[] = [
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440001',
    title: 'Finish project proposal',
    description: 'Complete the Q1 project proposal with budget estimates and timeline',
    priority: 'high',
    estimatedDuration: 120,
    dueDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440002',
    title: 'Review pull requests',
    description: 'Review and merge pending pull requests for the authentication module',
    priority: 'high',
    estimatedDuration: 60,
    dueDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440003',
    title: 'Weekly team meeting',
    description: 'Discuss sprint progress and blockers',
    estimatedDuration: 30,
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440004',
    title: 'Update documentation',
    priority: 'low',
    estimatedDuration: 45,
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440005',
    title: 'Prepare presentation slides',
    description: 'Create slides for client demo on Friday',
    priority: 'high',
    estimatedDuration: 90,
    dueDate: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString(),
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440006',
    title: 'Organize workspace',
    description: 'Clean desk and organize cables',
    priority: 'low',
    estimatedDuration: 30,
    completed: true,
    completedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    completedBy: 'manual',
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440007',
    title: 'Call insurance company',
    description: 'Inquire about policy renewal',
    estimatedDuration: 15,
    dueDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440008',
    title: 'Research new frameworks',
    description: 'Evaluate Next.js vs Remix for next project',
    estimatedDuration: 180,
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440009',
    title: 'Schedule dentist appointment',
    priority: 'low',
    estimatedDuration: 10,
    hidden: true,
  }),
  makeFixtureTask({
    id: '550e8400-e29b-41d4-a716-446655440010',
    title: 'Buy groceries',
    description: 'Milk, eggs, bread, vegetables',
    estimatedDuration: 60,
    dueDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),
    completed: true,
    completedAt: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),
    completedBy: 'manual',
  }),
]
